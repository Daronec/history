# –û—Ç—á–µ—Ç –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ FB2 —Ñ–∞–π–ª–æ–≤

## üéØ –¶–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —á—Ç–µ–Ω–∏—è FB2 —Ñ–∞–π–ª–æ–≤ (FictionBook 2.0) –≤ —Å–∏—Å—Ç–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞ –ò–ò-–ò—Å—Ç–æ—Ä–∏—è.

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:** `lxml` –∏ `beautifulsoup4` —É–∂–µ –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** `pip install lxml beautifulsoup4` - –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã

### ‚úÖ 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ —á—Ç–µ–Ω–∏—è FB2
**–§–∞–π–ª:** `src/data_processing.py`

**–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `load_fb2_file(file_path)`:**
```python
def load_fb2_file(file_path):
    """–ó–∞–≥—Ä—É–∂–∞–µ—Ç FB2 —Ñ–∞–π–ª (FictionBook 2.0)"""
    try:
        from bs4 import BeautifulSoup
        import zipfile
        
        # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FB2 –≤ ZIP —Ñ–æ—Ä–º–∞—Ç–µ –∏ –æ–±—ã—á–Ω—ã—Ö FB2 —Ñ–∞–π–ª–æ–≤
        if zipfile.is_zipfile(file_path):
            # FB2 –≤ ZIP —Ñ–æ—Ä–º–∞—Ç–µ
            with zipfile.ZipFile(file_path, 'r') as zip_file:
                fb2_files = [f for f in zip_file.namelist() if f.endswith('.fb2') or '.' not in f]
                if not fb2_files:
                    logger.error(f"–ù–µ –Ω–∞–π–¥–µ–Ω FB2 —Ñ–∞–π–ª –≤ –∞—Ä—Ö–∏–≤–µ: {file_path}")
                    return ""
                
                with zip_file.open(fb2_files[0]) as fb2_file:
                    content = fb2_file.read()
        else:
            # –û–±—ã—á–Ω—ã–π FB2 —Ñ–∞–π–ª
            with open(file_path, 'rb') as f:
                content = f.read()
        
        # –ü–∞—Ä—Å–∏–Ω–≥ XML —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–æ–∫
        try:
            xml_content = content.decode('utf-8')
        except UnicodeDecodeError:
            try:
                xml_content = content.decode('cp1251')
            except UnicodeDecodeError:
                xml_content = content.decode('latin1')
        
        # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é BeautifulSoup
        soup = BeautifulSoup(xml_content, 'xml')
        
        # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        paragraphs = soup.find_all('p')
        text_parts = []
        
        for p in paragraphs:
            if p.string:
                text_parts.append(p.string.strip())
            else:
                text_parts.append(p.get_text().strip())
        
        # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        text_elements = soup.find_all(['section', 'title', 'subtitle', 'epigraph', 'cite'])
        for element in text_elements:
            element_text = element.get_text().strip()
            if element_text:
                text_parts.append(element_text)
        
        # –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
        full_text = '\n\n'.join(text_parts)
        full_text = re.sub(r'\n\s*\n\s*\n', '\n\n', full_text)
        full_text = re.sub(r'[ \t]+', ' ', full_text)
        
        logger.info(f"FB2 —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω: {len(full_text)} —Å–∏–º–≤–æ–ª–æ–≤")
        return full_text.strip()
        
    except ImportError as e:
        logger.error(f"–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è FB2: {e}")
        return ""
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ FB2 —Ñ–∞–π–ª–∞: {e}")
        return ""
```

### ‚úÖ 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `load_file()`:**
```python
elif extension == '.fb2':
    return load_fb2_file(file_path)
```

**–û–±–Ω–æ–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π:**
```python
supported_extensions = {'.txt', '.csv', '.json', '.pdf', '.doc', '.docx', '.djvu', '.fb2'}
```

### ‚úÖ 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
**–§–∞–π–ª:** `src/incremental_data_processing.py`

**–û–±–Ω–æ–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:**
```python
supported_extensions = {'.pdf', '.txt', '.doc', '.docx', '.djvu', '.fb2'}
```

### ‚úÖ 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
**–§–∞–π–ª:** `src/data_processing.py`

**–û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:**
```python
"""
–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –ò–ò-–ò—Å—Ç–æ—Ä–∏—è
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤: TXT, CSV, JSON, PDF, DOC, DOCX, DJVU, FB2
"""
```

### ‚úÖ 6. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
**–§–∞–π–ª:** `scripts/test_fb2_reading.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á—Ç–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö FB2 —Ñ–∞–π–ª–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ FB2 —Ñ–∞–π–ª–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ `load_file()` –∏ `load_fb2_file()`
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **–£—Å–ø–µ—à–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ FB2 —Ñ–∞–π–ª–∞:**
```
üìñ –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª: Lahmann_Renate_Lager_i_literatura._Svidetelstva_o_GULAGe_Readli.Net_947449_original_c1b5d.fb2
‚úÖ FB2 —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω
üìä –†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞: 3,226,477 —Å–∏–º–≤–æ–ª–æ–≤
‚úÖ –§—É–Ω–∫—Ü–∏—è load_file —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

### **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

#### 1. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ FB2:**
- ‚úÖ **–û–±—ã—á–Ω—ã–µ FB2 —Ñ–∞–π–ª—ã** - XML —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ **FB2 –≤ ZIP –∞—Ä—Ö–∏–≤–∞—Ö** - —Å–∂–∞—Ç—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ **–†–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏** - UTF-8, CP1251, Latin1

#### 2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞:**
- ‚úÖ **–ü–∞—Ä–∞–≥—Ä–∞—Ñ—ã** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `<p>`
- ‚úÖ **–ó–∞–≥–æ–ª–æ–≤–∫–∏** - –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `<title>`, `<subtitle>`
- ‚úÖ **–°–µ–∫—Ü–∏–∏** - –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `<section>`
- ‚úÖ **–¶–∏—Ç–∞—Ç—ã** - –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `<epigraph>`, `<cite>`

#### 3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞:**
- ‚úÖ **–û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–±–µ–ª–æ–≤** - —É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ–∫—Å—Ç–∞
- ‚úÖ **–ö–æ–¥–∏—Ä–æ–≤–∫–∞** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–æ–∫

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

### **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã FB2:**
- ‚úÖ **XML FB2** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç FictionBook 2.0
- ‚úÖ **ZIP FB2** - —Å–∂–∞—Ç—ã–µ –∞—Ä—Ö–∏–≤—ã —Å FB2 —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ **–ö–æ–¥–∏—Ä–æ–≤–∫–∏:** UTF-8, CP1251, Latin1

### **–ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- ‚úÖ **`<p>`** - –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã (–æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç)
- ‚úÖ **`<title>`** - –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ **`<subtitle>`** - –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ **`<section>`** - —Å–µ–∫—Ü–∏–∏
- ‚úÖ **`<epigraph>`** - —ç–ø–∏–≥—Ä–∞—Ñ—ã
- ‚úÖ **`<cite>`** - —Ü–∏—Ç–∞—Ç—ã

### **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- ‚úÖ **ImportError** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫
- ‚úÖ **UnicodeDecodeError** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–æ–∫
- ‚úÖ **FileNotFoundError** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ **XML parsing errors** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ XML

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### 1. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- ‚úÖ **–ü–æ–ø—É–ª—è—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** - FB2 —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∫–Ω–∏–≥
- ‚úÖ **–†—É—Å—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞** - –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ø—É–ª—è—Ä–µ–Ω –≤ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–Ω–∏–≥–∏

### 2. **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞:**
- ‚úÖ **–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–Ω–∏–≥–∏
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Ä–∞–∑–¥–µ–ª–æ–≤
- ‚úÖ **–û—á–∏—Å—Ç–∫–∞** - —É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - graceful handling —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ FB2
- ‚úÖ **–ö–æ–¥–∏—Ä–æ–≤–∫–∏** - —Ä–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∞–º–∏

## üìà –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∏—Å—Ç–µ–º—É

### **–î–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è FB2:**
- ‚ùå **FB2 —Ñ–∞–π–ª—ã –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å** - –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å —Å–∏—Å—Ç–µ–º–æ–π
- ‚ùå **–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö** - –∫–Ω–∏–≥–∏ –≤ FB2 —Ñ–æ—Ä–º–∞—Ç–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
- ‚ùå **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### **–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è FB2:**
- ‚úÖ **–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ FB2** - –≤—Å–µ FB2 —Ñ–∞–π–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –±–æ–ª—å—à–µ —Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
- ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∫–Ω–∏–≥

## üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ FB2 —Ñ–∞–π–ª–æ–≤:**
1. **–ü–æ–º–µ—Å—Ç–∏—Ç–µ FB2 —Ñ–∞–π–ª—ã** –≤ –ø–∞–ø–∫—É `data/raw/`
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ** - FB2 —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –ø—Ä–æ—á–∏—Ç–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã FB2:**
- ‚úÖ **–û–±—ã—á–Ω—ã–µ .fb2 —Ñ–∞–π–ª—ã** - XML —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ **ZIP –∞—Ä—Ö–∏–≤—ã —Å .fb2** - —Å–∂–∞—Ç—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ **–†–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏** - UTF-8, CP1251, Latin1

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
python scripts/test_fb2_reading.py
```

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ FB2 —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!**

#### **–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ **–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ FB2** - —á—Ç–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ FB2 —Ñ–∞–π–ª–æ–≤
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã** - XML –∏ ZIP –≤–∞—Ä–∏–∞–Ω—Ç—ã
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–æ–∫
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º—É** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –æ–±—É—á–µ–Ω–∏–∏

#### **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–ª—å–∑–∞:**
- üéØ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –±–æ–ª—å—à–µ —Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
- üéØ **–ü–æ–ø—É–ª—è—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–Ω–∏–≥
- üéØ **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
- üéØ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∫–Ω–∏–≥

**–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç FB2 —Ñ–∞–π–ª—ã!** üìö‚ú®
