# üìÅ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –ò–ò –º–æ–¥–µ–ª–∏

## üéØ –û–±–∑–æ—Ä

–ù–∞—à–∞ –ò–ò –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤. –í–æ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:

## ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### 1. **JSON (.json)** - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞:
```json
[
  {
    "text": "–í 1812 –≥–æ–¥—É –ù–∞–ø–æ–ª–µ–æ–Ω –ë–æ–Ω–∞–ø–∞—Ä—Ç –≤—Ç–æ—Ä–≥—Å—è –≤ –†–æ—Å—Å–∏—é —Å –∞—Ä–º–∏–µ–π –≤ 600 —Ç—ã—Å—è—á —á–µ–ª–æ–≤–µ–∫.",
    "category": "–≤–æ–π–Ω–∞",
    "period": "XIX –≤–µ–∫",
    "importance": "–≤—ã—Å–æ–∫–∞—è"
  },
  {
    "text": "–ü–µ—Ç—Ä I –í–µ–ª–∏–∫–∏–π –ø—Ä–æ–≤–µ–ª –º–∞—Å—à—Ç–∞–±–Ω—ã–µ —Ä–µ—Ñ–æ—Ä–º—ã –≤ –†–æ—Å—Å–∏–∏.",
    "category": "—Ä–µ—Ñ–æ—Ä–º—ã",
    "period": "XVIII –≤–µ–∫",
    "importance": "–≤—ã—Å–æ–∫–∞—è"
  }
]
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏:
```json
[
  {
    "text": "–í 1812 –≥–æ–¥—É –ø—Ä–æ–∏–∑–æ—à–ª–∞ –û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–æ–π–Ω–∞",
    "label": 0,
    "category": "–≤–æ–π–Ω–∞"
  },
  {
    "text": "–ü–µ—Ç—Ä I –æ—Å–Ω–æ–≤–∞–ª –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
    "label": 1,
    "category": "—Ä–µ—Ñ–æ—Ä–º—ã"
  }
]
```

### 2. **CSV (.csv)** - –î–ª—è —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ `history_data.csv`:
```csv
text,category,period,importance
"–í 1812 –≥–æ–¥—É –ù–∞–ø–æ–ª–µ–æ–Ω –≤—Ç–æ—Ä–≥—Å—è –≤ –†–æ—Å—Å–∏—é",–≤–æ–π–Ω–∞,XIX –≤–µ–∫,–≤—ã—Å–æ–∫–∞—è
"–ü–µ—Ç—Ä I –ø—Ä–æ–≤–µ–ª —Ä–µ—Ñ–æ—Ä–º—ã",—Ä–µ—Ñ–æ—Ä–º—ã,XVIII –≤–µ–∫,–≤—ã—Å–æ–∫–∞—è
"–ö—Ä–µ—â–µ–Ω–∏–µ –†—É—Å–∏ –≤ 988 –≥–æ–¥—É",—Ä–µ–ª–∏–≥–∏—è,X –≤–µ–∫,–≤—ã—Å–æ–∫–∞—è
```

#### –î–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏:
```csv
text,label,category
"–û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–æ–π–Ω–∞ 1812 –≥–æ–¥–∞",0,–≤–æ–π–Ω–∞
"–†–µ—Ñ–æ—Ä–º—ã –ü–µ—Ç—Ä–∞ I",1,—Ä–µ—Ñ–æ—Ä–º—ã
"–ö—Ä–µ—â–µ–Ω–∏–µ –†—É—Å–∏",2,—Ä–µ–ª–∏–≥–∏—è
```

### 3. **TXT (.txt)** - –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç

#### –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ `history_texts.txt`:
```
–í 1812 –≥–æ–¥—É –ù–∞–ø–æ–ª–µ–æ–Ω –ë–æ–Ω–∞–ø–∞—Ä—Ç –≤—Ç–æ—Ä–≥—Å—è –≤ –†–æ—Å—Å–∏—é —Å –∞—Ä–º–∏–µ–π –≤ 600 —Ç—ã—Å—è—á —á–µ–ª–æ–≤–µ–∫.
–ü–µ—Ç—Ä I –í–µ–ª–∏–∫–∏–π –ø—Ä–æ–≤–µ–ª –º–∞—Å—à—Ç–∞–±–Ω—ã–µ —Ä–µ—Ñ–æ—Ä–º—ã –≤ –†–æ—Å—Å–∏–∏, –≤–∫–ª—é—á–∞—è —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π –∞—Ä–º–∏–∏.
–í 988 –≥–æ–¥—É –∫–Ω—è–∑—å –í–ª–∞–¥–∏–º–∏—Ä –∫—Ä–µ—Å—Ç–∏–ª –†—É—Å—å, –ø—Ä–∏–Ω—è–≤ —Ö—Ä–∏—Å—Ç–∏–∞–Ω—Å—Ç–≤–æ –∏–∑ –í–∏–∑–∞–Ω—Ç–∏–∏.
–ö—É–ª–∏–∫–æ–≤—Å–∫–∞—è –±–∏—Ç–≤–∞ 1380 –≥–æ–¥–∞ —Å—Ç–∞–ª–∞ –ø–µ—Ä–µ–ª–æ–º–Ω—ã–º –º–æ–º–µ–Ω—Ç–æ–º –≤ –±–æ—Ä—å–±–µ —Ä—É—Å—Å–∫–∏—Ö –∫–Ω—è–∂–µ—Å—Ç–≤.
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–≥—Ä—É–∑–∫–∞ JSON —Ñ–∞–π–ª–∞:
```bash
python src/train_model.py --data data/raw/history.json --task generation --epochs 2
```

### –ó–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–∞:
```bash
python src/train_model.py --data data/raw/history.csv --task classification --epochs 3
```

### –ó–∞–≥—Ä—É–∑–∫–∞ TXT —Ñ–∞–π–ª–∞:
```bash
python src/train_model.py --data data/raw/history.txt --task generation --epochs 1
```

## üîß –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–∞–Ω–Ω—ã—Ö

### 1. –°–æ–∑–¥–∞–Ω–∏–µ JSON —Ñ–∞–π–ª–∞

```python
import json

# –í–∞—à–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
history_data = [
    {
        "text": "–í–∞—à –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å",
        "category": "–≤–æ–π–Ω–∞",
        "period": "XIX –≤–µ–∫",
        "importance": "–≤—ã—Å–æ–∫–∞—è"
    },
    {
        "text": "–ï—â–µ –æ–¥–∏–Ω –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç",
        "category": "—Ä–µ—Ñ–æ—Ä–º—ã",
        "period": "XVIII –≤–µ–∫", 
        "importance": "—Å—Ä–µ–¥–Ω—è—è"
    }
]

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª
with open('data/raw/my_history.json', 'w', encoding='utf-8') as f:
    json.dump(history_data, f, ensure_ascii=False, indent=2)
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ CSV —Ñ–∞–π–ª–∞

```python
import pandas as pd

# –°–æ–∑–¥–∞–µ–º DataFrame
data = {
    'text': [
        '–í 1812 –≥–æ–¥—É –ø—Ä–æ–∏–∑–æ—à–ª–∞ –û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–æ–π–Ω–∞',
        '–ü–µ—Ç—Ä I –æ—Å–Ω–æ–≤–∞–ª –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
        '–ö—Ä–µ—â–µ–Ω–∏–µ –†—É—Å–∏ –≤ 988 –≥–æ–¥—É'
    ],
    'category': ['–≤–æ–π–Ω–∞', '—Ä–µ—Ñ–æ—Ä–º—ã', '—Ä–µ–ª–∏–≥–∏—è'],
    'period': ['XIX –≤–µ–∫', 'XVIII –≤–µ–∫', 'X –≤–µ–∫'],
    'importance': ['–≤—ã—Å–æ–∫–∞—è', '–≤—ã—Å–æ–∫–∞—è', '–≤—ã—Å–æ–∫–∞—è']
}

df = pd.DataFrame(data)
df.to_csv('data/raw/my_history.csv', index=False, encoding='utf-8')
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ TXT —Ñ–∞–π–ª–∞

```python
# –ü—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ —Ç–µ–∫—Å—Ç–æ–≤
texts = [
    "–í 1812 –≥–æ–¥—É –ø—Ä–æ–∏–∑–æ—à–ª–∞ –û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–æ–π–Ω–∞",
    "–ü–µ—Ç—Ä I –æ—Å–Ω–æ–≤–∞–ª –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ –≤ 1703 –≥–æ–¥—É",
    "–ö—Ä–µ—â–µ–Ω–∏–µ –†—É—Å–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤ 988 –≥–æ–¥—É"
]

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª
with open('data/raw/my_history.txt', 'w', encoding='utf-8') as f:
    for text in texts:
        f.write(text + '\n')
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–∞–Ω–Ω—ã–º

### –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞:
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –ø–æ–ª–µ `text` —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º
- **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**: `category`, `period`, `importance` –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### –î–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –ø–æ–ª–µ `text` –∏ `label` (—á–∏—Å–ª–æ–≤—ã–µ –º–µ—Ç–∫–∏)
- **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**: `category` –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–ú–∏–Ω–∏–º—É–º –¥–∞–Ω–Ω—ã—Ö**: 10-20 –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è –Ω–∞—á–∞–ª–∞
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –¢–µ–∫—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ —Ç–æ—á–Ω—ã–º–∏
- **–î–ª–∏–Ω–∞**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 50-500 —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ —Ç–µ–∫—Å—Ç

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö

### 1. **–ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã—Ö —Ñ–∞–∫—Ç–æ–≤

### 2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º (X –≤–µ–∫, XVIII –≤–µ–∫, etc.)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–≤–æ–π–Ω–∞, —Ä–µ—Ñ–æ—Ä–º—ã, –∫—É–ª—å—Ç—É—Ä–∞)
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –º–µ—Ç–∫–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏

### 3. **–û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö**
- **–ú–∏–Ω–∏–º—É–º**: 50-100 —Ç–µ–∫—Å—Ç–æ–≤
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: 500-1000 —Ç–µ–∫—Å—Ç–æ–≤
- **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ**: 5000+ —Ç–µ–∫—Å—Ç–æ–≤

### 4. **–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ**
- –†–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–∏–æ–¥—ã
- –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π
- –†–∞–∑–Ω–∞—è –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –≥–æ—Ç–æ–≤—ã—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤
mkdir -p data/raw/periods

# –§–∞–π–ª—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
data/raw/periods/ancient_rus.json    # –î—Ä–µ–≤–Ω—è—è –†—É—Å—å
data/raw/periods/middle_ages.json    # –°—Ä–µ–¥–Ω–∏–µ –≤–µ–∫–∞  
data/raw/periods/imperial.json       # –ò–º–ø–µ—Ä—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥
data/raw/periods/soviet.json         # –°–æ–≤–µ—Ç—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:

```bash
# –§–∞–π–ª—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
data/raw/categories/wars.json        # –í–æ–π–Ω—ã
data/raw/categories/reforms.json     # –†–µ—Ñ–æ—Ä–º—ã
data/raw/categories/culture.json     # –ö—É–ª—å—Ç—É—Ä–∞
data/raw/categories/politics.json    # –ü–æ–ª–∏—Ç–∏–∫–∞
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

```python
import json
import pandas as pd
from pathlib import Path

def check_data_format(file_path):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö"""
    file_path = Path(file_path)
    
    if file_path.suffix == '.json':
        with open(file_path, 'r', encoding='utf-8') as f:
            data = json.load(f)
    elif file_path.suffix == '.csv':
        data = pd.read_csv(file_path).to_dict('records')
    elif file_path.suffix == '.txt':
        with open(file_path, 'r', encoding='utf-8') as f:
            data = [{'text': line.strip()} for line in f if line.strip()]
    
    print(f"üìä –ó–∞–≥—Ä—É–∂–µ–Ω–æ {len(data)} –∑–∞–ø–∏—Å–µ–π")
    print(f"üìù –ü–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å: {data[0]}")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
    if 'text' in data[0]:
        print("‚úÖ –ü–æ–ª–µ 'text' –Ω–∞–π–¥–µ–Ω–æ")
    else:
        print("‚ùå –ü–æ–ª–µ 'text' –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")
    
    return data

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
data = check_data_format('data/raw/sample_history_data.json')
```

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ù–∞—à–∞ –ò–ò –º–æ–¥–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞:
- **JSON** - –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **CSV** - –¥–ª—è —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **TXT** - –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤

–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –∏ —Å–ª–µ–¥—É–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞!

**–£–¥–∞—á–∏ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤! üìöü§ñ**
